<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>GoPredict ‚Äî Home</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body class="bg">

<header class="nav">
  <div class="nav-left">
    <div class="logo">GoPredict</div>
    <div class="tag">Predict ‚Ä¢ Compete ‚Ä¢ Win</div>
  </div>
  <nav class="nav-right">
    <a href="{{ url_for('index') }}" class="nav-link {% if request.endpoint == 'index' %}active{% endif %}">Home</a>
    <a href="{{ url_for('leaderboard') }}" class="nav-link {% if request.endpoint == 'leaderboard' %}active{% endif %}">Leaderboard</a>

    {% if session.get('username') %}
      <a href="{{ url_for('profile') }}" class="nav-link {% if request.endpoint == 'profile' %}active{% endif %}">Profile</a>
      <a href="{{ url_for('settings') }}" class="nav-link {% if request.endpoint == 'settings' %}active{% endif %}">Settings</a>
      <span class="nav-link">Hi, {{ session['username'] }}</span>
      <a href="{{ url_for('logout') }}" class="nav-link">Logout</a>
    {% else %}
      <a href="{{ url_for('login') }}" class="nav-link">Login</a>
      <a href="{{ url_for('register') }}" class="nav-link">Register</a>
    {% endif %}
  </nav>
</header>

<main class="page">
  {% with messages = get_flashed_messages() %}
    {% if messages %}
      {% for msg in messages %}
        <div class="card notice">{{ msg }}</div>
      {% endfor %}
    {% endif %}
  {% endwith %}

  {% if session.get('username') %}
  <div class="small-muted card notice">
      Logged in as <strong>{{ session['username'] }}</strong>
  </div>
  {% endif %}

  <section class="hero">
    <div class="hero-inner">
      <h1 class="hero-title">Predict Football Scores & Win Rewards</h1>
      <p class="hero-sub">Compete daily. Score points. Earn prizes. Become the top predictor!</p>
    </div>
  </section>

  <section class="container">
      {% if not session.get('username') %}
      <div class="card notice">
          üîí Log in to view the leaderboard and see your ranking!
      </div>
      {% endif %}

    <div class="section-head">
      <h2>Upcoming Matches</h2>
      <div class="small-muted">Click a match to submit your prediction</div>
    </div>

    {% if matches %}
      {% set leagues = {} %}
      {% for match in matches %}
        {% set league = match.get('league_name', 'Unknown League') %}
        {% if league not in leagues %}
          {% set leagues = leagues.update({league: []}) or leagues %}
        {% endif %}
        {% set _ = leagues[league].append(match) %}
      {% endfor %}

      {% for league, league_matches in leagues.items() %}
        <div class="league-section">
          <h3 class="league-title">{{ league }}</h3>
          <div class="vertical-list">
            {% for match in league_matches %}
            <a href="{{ url_for('match', match_id=match.global_index) }}" class="card match-card">
              <div class="match-row">
                <div class="team left">
                  <img class="team-logo" src="{{ match.get('home_logo', 'https://via.placeholder.com/64') }}" alt="{{ match['home'] }}">
                  <div class="team-name">{{ match['home'] }}</div>
                </div>

                <div class="vs-block">
                  <div class="vs-text">VS</div>
                  {% if match.get('home_score') is not none and match.get('away_score') is not none %}
                    <div class="score">{{ match['home_score'] }} - {{ match['away_score'] }}</div>
                  {% else %}
                    <div class="match-time">
                      {% if match.get('localDate') %}
                        {{ match['localDate'][:10] }} ¬∑ {{ match['localDate'][11:16] }}
                      {% else %}
                        TBA
                      {% endif %}
                    </div>
                  {% endif %}
                </div>

                <div class="team right">
                  <img class="team-logo" src="{{ match.get('away_logo', 'https://via.placeholder.com/64') }}" alt="{{ match['away'] }}">
                  <div class="team-name">{{ match['away'] }}</div>
                </div>
              </div>

              <div class="card-footer">
                <div class="pred-count">{{ match.get('predictions_count', 0) }} Predictions</div>
                {% if session.get('username') %}
                  <div class="cta">Predict Now ‚Üí</div>
                {% else %}
                  <div class="cta small-muted">Login to Predict</div>
                {% endif %}
              </div>
            </a>
            {% endfor %}
          </div>
        </div>
      {% endfor %}
    {% else %}
      <p class="muted">No matches available right now. Check back later!</p>
    {% endif %}
  </section>
</main>

<footer class="footer">
  <div>¬© {{ (2025) }} GoPredict ‚Äî Built with ‚öΩ</div>
  <div class="small-muted">Made with ‚ù§Ô∏è for football fans</div>
</footer>

</body>
</html>  index html 